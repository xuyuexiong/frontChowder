#### 11. http的持久连接和管线化  

&emsp;**持久连接**  

&emsp;&emsp;持久连接就是：只需要建立一条连接，然后在这条连接上传输多个请求和响应。  

&emsp;&emsp;HTTP连接是建立在TCP协议之上的，建立一条TCP连接需要三次握手，TCP连接关闭时需要四次挥手。这些都是需要时间的。  

&emsp;&emsp;持久连接的一个最大的好处是：大大减少了连接的建立以及关闭时延。  

&emsp;**管道化连接**  

&emsp;&emsp;管道化连接是在持久连接的基础上，以“流水线”的方式发送请求：不需要等到请求1的响应到达Client，就可以发送请求2....  

#### 12. 域名解析时是tcp还是udp  

&emsp;**DNS在进行区域传输的时候使用TCP协议，其它时候则使用UDP协议**  

&emsp;&emsp;DNS的规范规定了2种类型的DNS服务器，一个叫主DNS服务器，一个叫辅助DNS服务器。在一个区中主DNS服务器从自己本机的数据文件中读取该区的DNS数据信息，而辅助DNS服务器则从区的主DNS服务器中读取该区的DNS数据信息。当一个辅助DNS服务器启动时，它需要与主DNS服务器通信，并加载数据信息，这就叫做区传送（zone transfer）。   

&emsp;**区域传送时使用TCP，主要有一下两点考虑：**   

&emsp;&emsp;1.辅域名服务器会定时（一般时3小时）向主域名服务器进行查询以便了解数据是否有变动。如有变动，则会执行一次区域传送，进行数据同步。区域传送将使用TCP而不是UDP，因为数据同步传送的数据量比一个请求和应答的数据量要多得多。   

&emsp;&emsp;2.TCP是一种可靠的连接，保证了数据的准确性。   
  
&emsp;**域名解析时使用UDP协议：**  

&emsp;&emsp;客户端向DNS服务器查询域名，一般返回的内容都不超过512字节，用UDP传输即可。不用经过TCP三次握手，这样DNS服务器负载更低，响应更快。虽然从理论上说，客户端也可以指定向DNS服务器查询的时候使用TCP，但事实上，很多DNS服务器进行配置的时候，仅支持UDP查询包。  

#### 13. 域名发散和域名收敛  

&emsp;**域名发散**  

&emsp;&emsp;域名发散就是为了突破浏览器对于同一域名并发请求数的限制，使用域名发散为同一个服务申请多个域名，从而可以一定程度上提高并发量；当然，由于建立新的请求需要一定的代价，因此需要在域名发散与域名收敛间进行trade off，通常发散的域名个数为2-4个；  

&emsp;**域名收敛**  

&emsp;&emsp;域名收敛就是将静态资源放在一个域名下不进行发散，这主要是为了适应移动端的发展需求；通常DNS是一个开销较大的操作，而移动端由于网络带宽和实时性、资源等的限制，这些开销对移动端的用户体验是致命的，因此需要进行域名收敛；  

#### 14. Post一个file的时候file放在哪的？  

&emsp;&emsp;上传的文件会以二进制的形式放在消息报文中，请求发送到服务器。  

#### 15. HTTP Response的Header里面都有些什么？  

&emsp;&emsp;Accept-Ranges：表明服务器是否支持指定范围请求及哪种类型的分段请求；  

&emsp;&emsp;Age：从原始服务器到代理缓存形成的估算时间（以秒计，非负）；  

&emsp;&emsp;Cache-Control：告诉所有的缓存机制是否可以缓存及哪种类型；  

&emsp;&emsp;Content-Language：响应体的语言；  

&emsp;&emsp;Content-Length：响应体的长度；  

&emsp;&emsp;Content-Type：返回内容的MIME类型；  

&emsp;&emsp;Date：原始服务器消息发出的时间；  

